# L2 â€“ Feature Engineering Layer

Purpose: Enrich L1 partitions with spatial and temporal features for ML and reporting.

Inputs
- data/l1/year=YYYY/month=MM/*.parquet

Outputs
- data/l2/year=YYYY/month=MM/features-YYYY-MM.parquet

Features
- H3 hex id: `h3_r9` (default resolution=9; configurable)
- Street normalization: `street_norm` from `BLOCK`
- Temporal: `hour`, `day_of_week`, `month`, `is_weekend`
- Cyclical encoding: `hour_sin/cos`, `dow_sin/cos`, `month_sin/cos`

Run
```bash
python src/l2_features.py 9
```

Notes
- Uses `h3.latlng_to_cell` when available (h3>=4), otherwise falls back to older API.
- Keeps standalone execution style with robust logging.
